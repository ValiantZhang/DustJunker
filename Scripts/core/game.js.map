{"version":3,"sources":["core/game.ts"],"names":[],"mappings":"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","file":"core/game.js","sourcesContent":["/// <reference path=\"_reference.ts\"/>\n\n// MAIN GAME FILE\n\n// THREEJS Aliases\nimport Scene = Physijs.Scene;\nimport Renderer = THREE.WebGLRenderer;\nimport PerspectiveCamera = THREE.PerspectiveCamera;\nimport BoxGeometry = THREE.BoxGeometry;\nimport CubeGeometry = THREE.CubeGeometry;\nimport PlaneGeometry = THREE.PlaneGeometry;\nimport SphereGeometry = THREE.SphereGeometry;\nimport CylinderGeometry = THREE.CylinderGeometry;\nimport CircleGeometry = THREE.CircleGeometry;\nimport TorusGeometry = THREE.TorusGeometry;\nimport Geometry = THREE.Geometry;\nimport AxisHelper = THREE.AxisHelper;\nimport LambertMaterial = THREE.MeshLambertMaterial;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport PhongMaterial = THREE.MeshPhongMaterial;\nimport Material = THREE.Material;\nimport Line = THREE.Line;\nimport Mesh = THREE.Mesh;\nimport Object3D = THREE.Object3D;\nimport SpotLight = THREE.SpotLight;\nimport PointLight = THREE.PointLight;\nimport AmbientLight = THREE.AmbientLight;\nimport Control = objects.Control;\nimport GUI = dat.GUI;\nimport Color = THREE.Color;\nimport Vector3 = THREE.Vector3;\nimport Face3 = THREE.Face3;\nimport Point = objects.Point;\nimport CScreen = config.Screen;\nimport Clock = THREE.Clock;\n\n//Custom Game Objects\nimport gameObject = objects.gameObject;\n\n// Setup a Web Worker for Physijs\nPhysijs.scripts.worker = \"/Scripts/lib/Physijs/physijs_worker.js\";\nPhysijs.scripts.ammo = \"/Scripts/lib/Physijs/examples/js/ammo.js\";\n\n\n// setup an IIFE structure (Immediately Invoked Function Expression)\nvar game = (() => {\n\n    // declare game objects\n    var havePointerLock: boolean;\n    var element: any;\n    var scene: Scene = new Scene(); // Instantiate Scene Object\n    var renderer: Renderer;\n    var camera: PerspectiveCamera;\n    var control: Control;\n    var gui: GUI;\n    var stats: Stats;\n    var blocker: HTMLElement;\n    var instructions: HTMLElement;\n    var gameOver: HTMLElement;\n    var spotLight: SpotLight;\n    var ambientLight: AmbientLight;\n    \n    var groundGeometry: CubeGeometry;\n    var groundPhysicsMaterial: Physijs.Material;\n    var groundMaterial: PhongMaterial;\n    var ground: Physijs.Mesh;\n    \n    var shipGeometry: CubeGeometry;\n    var shipPhysicsMaterial: Physijs.Material;\n    var shipMaterial: PhongMaterial;\n    var ship: Physijs.Mesh;\n    var shipTexture: Texture;\n    var shipTextureNormal: Texture;\n    \n    var shipPitGeometry: CubeGeometry;\n    var shipPitPhysicsMaterial: Physijs.Material;\n    var shipPitMaterial: PhongMaterial;\n    var shipPit: Physijs.Mesh;\n    var shipPitTexture: Texture;\n    var shipPitTextureNormal: Texture;\n    \n    var wingGeometry: CircleGeometry;\n    var wingMaterial: MeshLambertMaterial;\n    var wingLeft: Mesh;\n    var wingRight: Mesh;\n    \n    var sphere: Mesh;\n    \n    var sunMaterial : MeshLambertMaterial;\n    var sunAtmoMaterial : MeshLambertMaterial;\n    var sunTexture: Texture;\n    \n    var gasGiantGeometry: sphereGeometry;\n    var gasGiantMaterial: MeshPhongMaterial;\n    var gasGiant: Mesh;\n    var gasGiantTexture: Texture;\n    var gasGiantTextureNormal: Texture;\n    \n    var beltRing: Mesh;\n    var beltRingGeometry: torusGeometry;\n    var beltRingMaterial : MeshPhongMaterial;\n    var beltRingTexture: Texture;\n    var beltRingTextureNormal: Texture;\n    \n    var starDustGeometry: sphereGeometry;\n    var starDustPhysicsMaterial: Physijs.Material;\n    var starDustMaterial: PhongMaterial;\n    var starDust: Physijs.Mesh;\n    var starDustTexture: Texture;\n    var starDustTextureNormal: Texture;\n    \n    var asteroidGeometry: sphereGeometry;\n    var asteroidPhysicsMaterial: Physijs.Material;\n    var asteroidMaterial: PhongMaterial;\n    var asteroid: Physijs.Mesh;\n    var asteroidTexture: Texture;\n    var asteroidTextureNormal: Texture;\n\n    var clock: Clock;\n    var playerGeometry: CubeGeometry;\n    var playerMaterial: Physijs.Material;\n    var player: Physijs.Mesh;\n    var sphereGeometry: SphereGeometry;\n    var sphereMaterial: Physijs.Material;\n    var sphere: Physijs.Mesh;\n    var keyboardControls: objects.KeyboardControls;\n    var mouseControls: objects.MouseControls;\n    var isGrounded: boolean;\n    var velocity: Vector3 = new Vector3(0,0,0);\n    var prevTime: number = 0;\n    \n    var spaceSkybox;\n    \n    var score: number = 0;\n    var deathDistance: number = 0;\n    var oxygenLevels: number = 61;\n    var remainingOxygen: number = 0;\n    var maxStarDust: number = 5;\n    \n    var shipPos: Vector3 = new Vector3(0,0,0);\n    var curPlayerPos: Vector3 = new Vector3(0,0,0);\n    \n    var assest: createjs.LoadQueue;\n    var canvas: HTMLElement;\n    var stage: createjs.Stage;\n    \n    var manifest = [\n        {id:\"thrust\", src:\"../../Assets/audio/thrusters.wav\"},\n        {id:\"bloop\", src:\"../../Assets/audio/bloop.wav\"}\n        ];\n    \n    \n    function preload(): void{\n        assets = new createjs.LoadQueue();\n        assets.installPlugin(createjs.Sound);\n        assets.on('complete', init, this);\n        assets.loadManifest(manifest);\n    }\n    \n    function setupCanvas(): void{\n        canvas = document.getElementById(\"canvas\");\n        canvas.setAttribute(\"width\", (config.Screen.WIDTH.toString()));\n        canvas.setAttribute(\"height\", (config.Screen.HEIGHT * 0.05).toString());\n        canvas.style.backgroundColor = \"#000000\";\n        stage = new createjs.Stage(canvas);\n    }\n    \n    function setupScoreboard(): void{\n        \n        oxygenLabel = new createjs.Text(\n            \"OXYGEN LEVELS: \" + remainingOxygen,\n            \"20px Consolas\",\n            \"#ffffff\"\n        );\n        oxygenLabel.x = config.Screen.WIDTH * 0.45;\n        oxygenLabel.y = (config.Screen.HEIGHT * 0.1) * 0.20;\n        stage.addChild(oxygenLabel);\n        console.log(\"Added lives label to stage\");\n        \n        //Add Score Label\n        scoreLabel = new createjs.Text(\n            \"SCORE: \" + score,\n            \"20px Consolas\",\n            \"#ffffff\");\n            \n        scoreLabel.x = config.Screen.WIDTH * 0.9;\n        scoreLabel.y = (config.Screen.HEIGHT * 0.1) * 0.20;\n        stage.addChild(scoreLabel);\n        console.log(\"Added score label to stage\");    \n        stage.update();\n        \n    }\n\n    function init() {\n        // Create to HTMLElements\n        blocker = document.getElementById(\"blocker\");\n        instructions = document.getElementById(\"instructions\");\n        gameOver = document.getElementById(\"gameOver\");\n        \n        gameOver.style.display = 'none';\n        \n        //setup createjs canvas and stage\n        setupCanvas();\n        \n        //Set up Scoreboard\n        setupScoreboard();\n        \n        //check to see if pointerlock is supported\n        havePointerLock = 'pointerLockElement' in document ||\n            'mozPointerLockElement' in document ||\n            'webkitPointerLockElement' in document;\n            \n        // Instantiate Game Controls\n        keyboardControls = new objects.KeyboardControls();\n        mouseControls = new objects.MouseControls();\n\n        if (havePointerLock) {\n            \n            element = document.body;\n\n            instructions.addEventListener('click', () => {\n                \n                // Ask the user for pointer lock\n                console.log(\"Requesting PointerLock\");\n\n                element.requestPointerLock = element.requestPointerLock ||\n                    element.mozRequestPointerLock ||\n                    element.webkitRequestPointerLock;\n\n                element.requestPointerLock();\n            });\n\n            document.addEventListener('pointerlockchange', pointerLockChange);\n            document.addEventListener('mozpointerlockchange', pointerLockChange);\n            document.addEventListener('webkitpointerlockchange', pointerLockChange);\n            document.addEventListener('pointerlockerror', pointerLockError);\n            document.addEventListener('mozpointerlockerror', pointerLockError);\n            document.addEventListener('webkitpointerlockerror', pointerLockError);\n            \n        }\n\n        // Scene changes for Physijs\n        scene.name = \"Main\";\n        scene.fog = new THREE.Fog(0xffe6ff, 0 , 1000);\n        scene.setGravity(new THREE.Vector3(0, -10, 0));\n        \n        scene.addEventListener('update', () => {\n           scene.simulate(undefined, 2); \n        });\n        \n        // setup a THREE.JS Clock object\n        clock = new Clock();\n        \n        setupRenderer(); // setup the default renderer\n\t\n        setupCamera(); // setup the camera\n\n        //DEATH GROUND\n        groundGeometry = new BoxGeometry(100000, 1, 100000);\n        groundMaterial = Physijs.createMaterial(new LambertMaterial({ color: 0xffffff }), 0.4, 0);\n        groundPhysicsMaterial = Physijs.createMaterial(groundMaterial, 0, 0);\n        ground = new Physijs.ConvexMesh(groundGeometry, groundMaterial, 0);\n        ground.position.set(0,-73,0);\n        ground.receiveShadow = false;\n        ground.visible = false;\n        ground.name = \"Ground\";\n        scene.add(ground);\n        \n        // load the cube textures\n    \tvar skyboxCubePics = [ \"../../Assets/Skybox/Space/posX.jpg\", \n    \t             \"../../Assets/Skybox/Space/negX.jpg\",\n    \t             \"../../Assets/Skybox/Space/posY.jpg\",\n    \t             \"../../Assets/Skybox/Space/negY.jpg\",\n    \t             \"../../Assets/Skybox/Space/posZ.jpg\",\n    \t             \"../../Assets/Skybox/Space/negZ.jpg\"];\n    \t             \n\t    var skyboxCube\t= THREE.ImageUtils.loadTextureCube( skyboxCubePics );\n\t    \n\t    // init the cube shadder\n    \tvar shader\t= THREE.ShaderLib[\"cube\"];\n    \tshader.uniforms['tCube'].value= skyboxCube;\n    \tvar skyboxMat = new THREE.ShaderMaterial( {\n              fragmentShader: shader.fragmentShader,\n              vertexShader: shader.vertexShader,\n              uniforms: shader.uniforms,\n              depthWrite: false,\n              side: THREE.BackSide\n            });\n\t    \n\t    // build the skybox Mesh\n    \tspaceSkybox\t= new THREE.Mesh( new THREE.CubeGeometry( 100000, 100000, 100000, null, true ), skyboxMat );\n    \t// add it to the scene\n    \tscene.add( spaceSkybox );\n    \t\n    \t// Add an AmbientLight to the scene\n        ambientLight = new AmbientLight(0x0c0c0c);\n        scene.add(ambientLight);\n        \n        // Spaceship object\n        shipTexture = new THREE.TextureLoader().load('../../Assets/images/shipHull.jpg');\n        shipTexture.wrapS = THREE.RepeatWrapping;\n        shipTexture.wrapT = THREE.RepeatWrapping;\n        shipTexture.repeat.set(4, 4);\n        \n        shipTextureNormal = new THREE.TextureLoader().load('../../Assets/images/shipHullNormal.png');\n        shipTextureNormal.wrapS = THREE.RepeatWrapping;\n        shipTextureNormal.wrapT = THREE.RepeatWrapping;\n        shipTextureNormal.repeat.set(4, 4);\n        \n        shipMaterial = new PhongMaterial();\n        shipMaterial.map = shipTexture;\n        shipMaterial.bumpMap = shipTextureNormal;\n        shipMaterial.bumpScale = 0.2;\n        \n        shipGeometry = new CylinderGeometry(8, 10, 30, 10);\n        shipPhysicsMaterial = Physijs.createMaterial(shipMaterial, 1, 0);\n        ship = new Physijs.CylinderMesh(shipGeometry, shipMaterial, 0);\n        ship.position.set(0, -10 ,0);\n        ship.rotation.x = 5;\n        ship.rotation.z = -55;\n        ship.receiveShadow = true;\n        ship.name = \"SpaceShip\";\n        \n        //ship Cockpit\n        shipPitTexture = new THREE.TextureLoader().load('../../Assets/images/shipHull.jpg');\n        shipPitTexture.wrapS = THREE.RepeatWrapping;\n        shipPitTexture.wrapT = THREE.RepeatWrapping;\n        shipPitTexture.repeat.set(4, 4);\n        \n        shipPitTextureNormal = new THREE.TextureLoader().load('../../Assets/images/shipHullNormal.png');\n        shipPitTextureNormal.wrapS = THREE.RepeatWrapping;\n        shipPitTextureNormal.wrapT = THREE.RepeatWrapping;\n        shipPitTextureNormal.repeat.set(4, 4);\n        \n        shipPitMaterial = new PhongMaterial();\n        shipPitMaterial.map = shipPitTexture;\n        shipPitMaterial.bumpMap = shipPitTextureNormal;\n        shipPitMaterial.bumpScale = 0.2;\n        \n        shipPitGeometry = new CylinderGeometry(1, 9, 12, 10);\n        shipPitPhysicsMaterial = Physijs.createMaterial(shipPitMaterial, 1, 0);\n        shipPit = new Physijs.CylinderMesh(shipPitGeometry, shipPitMaterial, 0);\n        shipPit.position.set(0, 20.5, 0);\n        shipPit.rotation.y = 42;\n        shipPit.receiveShadow = true;\n        ship.add(shipPit);\n        \n        //Ship wings\n        wingGeometry = new CircleGeometry( 14, 0, 0, 2.1 );\n        wingMaterial = new LambertMaterial({map: shipTexture});\n        wingRight = new THREE.Mesh( wingGeometry, wingMaterial );\n        wingRight.position.set(5, -15, 0);\n        ship.add(wingRight);\n        \n        wingLeft = new THREE.Mesh( wingGeometry, wingMaterial );\n        wingLeft.position.set(-6, -15, 2);\n        wingLeft.rotation.z = 45;\n        ship.add(wingLeft);\n        \n        scene.add(ship);\n        shipPos = new THREE.Vector3( ship.position.x, ship.position.y, ship.position.z );\n        \n        //Add a Sphere (sun)\n        sun = new SphereGeometry(10, 25, 25);\n        sunMaterial = new LambertMaterial({  color: 0xff4dff, map: new THREE.TextureLoader().load( \"../../Assets/images/sun.jpg\" });\n        sun = new Mesh(sun, sunMaterial);\n        sun.castShadow = true;\n        sun.position.set(-70, 30, -140);\n        \n        //Add Light to the Sun\n        pointLight = new PointLight(0xffc61a, 1, 100);\n        pointLight.position.set(-30, 25, -80);\n        pointLight.intensity = 10;\n        pointLight.castShadow = true;\n        scene.add(pointLight);\n        \n        // Spot Light\n        spotLight = new SpotLight(0xffdf80);\n        spotLight.position.set(-80, 70, 200);\n        spotLight.castShadow = true;\n        spotLight.intensity = 1;\n        spotLight.lookAt(new Vector3(0, 0, 0));\n        spotLight.shadowCameraNear = 2;\n        spotLight.shadowCameraFar = 200;\n        spotLight.shadowCameraLeft = -5;\n        spotLight.shadowCameraRight = 5;\n        spotLight.shadowCameraTop = 5;\n        spotLight.shadowCameraBottom = -5;\n        //spotLight.shadowMapWidth = 2048;\n        //spotLight.shadowMapHeight = 2048;\n        spotLight.shadowDarkness = 0.5;\n        spotLight.name = \"Spot Light\";\n        scene.add(spotLight);\n        \n        scene.add(sun);\n        \n        //Gas Giant object\n        gasGiantTexture = new THREE.TextureLoader().load('../../Assets/images/gasPlanet.jpg');\n        gasGiantTexture.wrapS = THREE.RepeatWrapping;\n        gasGiantTexture.wrapT = THREE.RepeatWrapping;\n        gasGiantTexture.repeat.set(4, 4);\n        \n        gasGiantTextureNormal = new THREE.TextureLoader().load('../../Assets/images/gasPlanetNormal.png');\n        gasGiantTextureNormal.wrapS = THREE.RepeatWrapping;\n        gasGiantTextureNormal.wrapT = THREE.RepeatWrapping;\n        gasGiantTextureNormal.repeat.set(4, 4);\n        \n        gasGiantMaterial = new PhongMaterial();\n        gasGiantMaterial.map = gasGiantTexture;\n        gasGiantMaterial.bumpMap = gasGiantTextureNormal;\n        gasGiantMaterial.bumpScale = 0.2;\n        \n        gasGiantGeometry = new SphereGeometry(80, 25, 25);\n        gasGiant = new Mesh(gasGiantGeometry, gasGiantMaterial);\n        gasGiant.position.set(100, -80 ,-400);\n        gasGiant.receiveShadow = true;\n        gasGiant.rotation.set(0.2, -0.5, 0.5);\n        gasGiant.name = \"Gas Giant\";\n        \n        //Asteroid Belt for Gas Giant\n        beltRingTexture = new THREE.TextureLoader().load( \"../../Assets/images/asteroidBelt.png\" );\n        beltRingTexture.wrapS = THREE.RepeatWrapping;\n        beltRingTexture.wrapT = THREE.RepeatWrapping;\n        beltRingTexture.repeat.set(4, 1);\n        \n        beltRingTextureNormal = new THREE.TextureLoader().load('../../Assets/images/asteroidBeltNormal.png');\n        beltRingTextureNormal.wrapS = THREE.RepeatWrapping;\n        beltRingTextureNormal.wrapT = THREE.RepeatWrapping;\n        beltRingTextureNormal.repeat.set(4, 1);\n        \n        beltRingMaterial = new PhongMaterial();\n        beltRingMaterial.map = beltRingTexture;\n        beltRingMaterial.bumpMap = beltRingTextureNormal;\n        beltRingMaterial.bumpScale = 0.2;\n        beltRingMaterial.transparent = true;\n        \n        beltRingGeometry = new TorusGeometry(100, 15, 2, 30);\n        beltRing = new Mesh(beltRingGeometry, beltRingMaterial);\n        beltRing.castShadow = false;\n        beltRing.rotation.set(-1.2, 0, 0);\n        gasGiant.add(beltRing);\n        \n        //Add Light to the gas giant\n        gasPointLight = new PointLight(0xdd99ff, 0, 500);\n        gasPointLight.position.set(50, -50, -320);\n        gasPointLight.intensity = 0.5;\n        gasPointLight.castShadow = false;\n        scene.add(gasPointLight);\n        \n        scene.add(gasGiant);\n        \n        //StarDust object\n        starDustTexture = new THREE.TextureLoader().load('../../Assets/images/cartoonStars.jpg');\n        starDustTexture.wrapS = THREE.RepeatWrapping;\n        starDustTexture.wrapT = THREE.RepeatWrapping;\n        starDustTexture.repeat.set(1, 1);\n        \n        starDustTextureNormal = new THREE.TextureLoader().load('../../Assets/images/cartoonStars.png');\n        starDustTextureNormal.wrapS = THREE.RepeatWrapping;\n        starDustTextureNormal.wrapT = THREE.RepeatWrapping;\n        starDustTextureNormal.repeat.set(1, 1);\n        \n        starDustMaterial = new PhongMaterial();\n        starDustMaterial.map = starDustTexture;\n        starDustMaterial.bumpMap = starDustTextureNormal;\n        starDustMaterial.shininess = 100;\n        starDustMaterial.shading = THREE.FlatShading;\n        starDustMaterial.bumpScale = 0.2;\n        \n        starDustGeometry = new SphereGeometry(1.5, 3, 2);\n        starDustPhysicsMaterial = Physijs.createMaterial(starDustMaterial, 1, 0);\n\n        //Spawn collectable every 5sec\n        setInterval(spawnStarDust, 5000);\n        \n        //Asteroid object\n        asteroidTexture = new THREE.TextureLoader().load('../../Assets/images/asteroid.jpg');\n        asteroidTexture.wrapS = THREE.RepeatWrapping;\n        asteroidTexture.wrapT = THREE.RepeatWrapping;\n        asteroidTexture.repeat.set(1, 1);\n        \n        asteroidTextureNormal = new THREE.TextureLoader().load('../../Assets/images/asteroidMapNormal.png');\n        asteroidTextureNormal.wrapS = THREE.RepeatWrapping;\n        asteroidTextureNormal.wrapT = THREE.RepeatWrapping;\n        asteroidTextureNormal.repeat.set(1, 1);\n        \n        asteroidMaterial = new PhongMaterial();\n        asteroidMaterial.map = asteroidTexture;\n        asteroidMaterial.bumpMap = asteroidTextureNormal;\n        asteroidMaterial.bumpScale = 0.2;\n        \n        asteroidGeometry = new SphereGeometry(5, 10, 6);\n        asteroidPhysicsMaterial = Physijs.createMaterial(asteroidMaterial, 1, 0);\n        asteroid = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid.position.set(0, -10 ,-15);\n        asteroid.rotation.z += 50;\n        asteroid.receiveShadow = true;\n        asteroid.name = \"Asteroid\";\n        scene.add(asteroid);\n        \n        //Duping asteroids \n        var asteroid1 = asteroid.clone();\n        asteroid1 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid1.position.set(0, -5, -25);\n        asteroid1.scale.set(0.5, 0.5, 0.5);\n        asteroid1.name = \"Asteroid\";\n        scene.add(asteroid1);\n        \n        var asteroid2 = asteroid.clone();\n        asteroid2 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid2.scale.set(0.7, 0.5, 0.7);\n        asteroid2.rotation.z -= 50;\n        asteroid2.position.set(10, 0, -25);\n        asteroid2.name = \"Asteroid\";\n        scene.add(asteroid2);\n        \n        var asteroid3 = asteroid.clone();\n        asteroid3 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid3.scale.set(0.4, 0.3, 0.5);\n        asteroid3.rotation.z -= 20;\n        asteroid3.position.set(-30, 0, -30);\n        asteroid3.name = \"Asteroid\";\n        scene.add(asteroid3);\n        \n        var asteroid4 = asteroid.clone();\n        asteroid4 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        //asteroid4.scale.set(0.4, 0.3, 0.5);\n        asteroid4.rotation.z -= 20;\n        asteroid4.position.set(-30, 0, -30);\n        asteroid4.name = \"Asteroid\";\n        scene.add(asteroid4);\n        \n        var asteroid5 = asteroid.clone();\n        asteroid5 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid5.position.set(-20, -10, -15);\n        asteroid5.scale.set(0.5, 0.4, 0.5);\n        asteroid5.name = \"Asteroid\";\n        scene.add(asteroid5);\n        \n        var asteroid6 = asteroid.clone();\n        asteroid6 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid6.position.set(-10, -10, -40);\n        asteroid6.scale.set(0.5, 0.4, 0.5);\n        asteroid6.name = \"Asteroid\";\n        scene.add(asteroid6);\n        \n        var asteroid7 = asteroid.clone();\n        asteroid7 = new Physijs.SphereMesh(asteroidGeometry, asteroidMaterial, 0);\n        asteroid7.position.set(30, -10, -30);\n        asteroid7.scale.set(0.4, 0.3, 0.4);\n        asteroid7.name = \"Asteroid\";\n        scene.add(asteroid7);\n        \n \n        // Player Object\n        playerGeometry = new BoxGeometry(1, 2, 1);\n        playerMaterial = Physijs.createMaterial(new LambertMaterial({ color: 0x00ff00 }), 1, 2);\n\n        player = new Physijs.BoxMesh(playerGeometry, playerMaterial, 1.5);\n        player.position.set(2, 1, 0);\n        player.rotation.set(0, 0, 0);\n        player.receiveShadow = true;\n        player.castShadow = true;\n        player.name = \"Player\";\n        scene.add(player);\n        console.log(\"Added Player to Scene\");\n        \n        //create parent child relationship with camera and player\n        player.add(camera);\n        camera.position.set(0, 1, 0);\n        \n        player.addEventListener('collision', (event) => {\n            if (event.name === \"SpaceShip\" || event.name === \"Asteroid\"){\n                isGrounded = true;\n            }\n            if (event.name === \"StarDust\"){\n                score += 1;\n                console.log(\"player collected points\" + score);\n                createjs.Sound.stop();\n                createjs.Sound.play(\"bloop\");\n            }\n            if (event.name === \"Ground\"){\n                console.log(\"Game Over\");\n                gameOver.style.display = '';\n                blocker.style.display = 'none';\n            }\n        });\n\n        // Add framerate stats\n        addStatsObject();\n\n        document.body.appendChild(renderer.domElement);\n        gameLoop(); // render the scene\t\n        scene.simulate();\n        \n        window.addEventListener('resize', onWindowResize, false);\n    }\n    \n    //PointerLockChange Event Handler\n    function pointerLockChange(event): void {\n        if (document.pointerLockElement === element ||\n            document.mozPointerLockElement === element ||\n            document.webkitPointerLockElement === element) {\n            // enable our mouse and keyboard controls\n            keyboardControls.enabled = true;\n            mouseControls.enabled = true;\n            blocker.style.display = 'none';\n            console.log(\"PointerLock enabled\");\n        } else {\n            // disable our mouse and keyboard controls\n            keyboardControls.enabled = false;\n            mouseControls.enabled = false;\n            blocker.style.display = '-webkit-box';\n            blocker.style.display = '-moz-box';\n            blocker.style.display = 'box';\n            instructions.style.display = '';\n            gameOver.style.display = 'none';\n            console.log(\"PointerLock disabled\");\n        }\n    }\n    \n    //PointerLockError Event Handler\n    function pointerLockError(event): void {\n        instructions.style.display = '';\n        console.log(\"PointerLock Error Detected!!\");\n    }\n    \n    // Window Resize Event Handler\n    function onWindowResize() {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        \n        canvas.style.width = \"100%\";\n        oxygenLabel.x = config.Screen.WIDTH * 0.45;\n        oxygenLabel.y = (config.Screen.HEIGHT * 0.1) * 0.20;\n        scoreLabel.x = config.Screen.WIDTH * 0.9;\n        scoreLabel.y = (config.Screen.HEIGHT * 0.1) * 0.20;\n        \n        stage.update();\n    }\n\n    function addControl(controlObject: Control): void {\n        /* ENTER CODE for the GUI CONTROL HERE */\n    }\n\n   // Add Frame Rate Stats to the Scene\n    function addStatsObject() {\n        stats = new Stats();\n        stats.setMode(0);\n        stats.domElement.style.position = 'absolute';\n        stats.domElement.style.left = '0px';\n        stats.domElement.style.top = '0px';\n        document.body.appendChild(stats.domElement);\n    }\n\n    // Setup main game loop\n    function gameLoop(): void {\n        stats.update();\n        stage.update();\n        checkControls();\n        checkDeathDistance();\n        starDustTimeout();\n        \n        spaceSkybox.rotation.x += 0.05;\n        spaceSkybox.rotation.y += 0.05;\n        spaceSkybox.rotation.z -= 0.08;\n        \n        beltRing.rotation.z += 0.0025;\n        gasGiant.rotation.y += 0.00025;\n        sun.rotation.z += 0.0025;\n        \n        scoreLabel.text = \"SCORE: \" + score;\n        oxygenLabel.text = \"OXYGEN LEVELS: \" + remainingOxygen;\n\n        // render using requestAnimationFrame\n        requestAnimationFrame(gameLoop);\n\n        // render the scene\n        renderer.render(scene, camera);\n    }\n    \n    //Check to see if the player should be dead\n    function checkDeathDistance(): void {\n        curPlayerPos = new THREE.Vector3( player.position.x, player.position.y, player.position.z );\n        \n        deathDistance = Math.abs(Math.round(curPlayerPos.distanceTo(shipPos)));\n        remainingOxygen = oxygenLevels - deathDistance;\n        \n        if (remainingOxygen > 50){\n            remainingOxygen = 50;\n        }    \n        \n        if (remainingOxygen <= 0){\n                remainingOxygen = 0;\n                gameOver.style.display = '';\n                blocker.style.display = 'none';\n                enableMoveControls(false);\n            }\n        \n    }\n    \n    //Check keyboard/mouse controls\n    function checkControls(): void{\n        velocity = new Vector3();\n\n        if (keyboardControls.enabled) {\n            \n            var time: number = performance.now();\n            var delta: number = (time - prevTime) / 1000;\n\n                var direction = new Vector3(0, 0, 0);\n                if (keyboardControls.moveForward) {\n                    velocity.z -= 500.0 * delta;\n                }\n                if (keyboardControls.moveLeft) {\n                    velocity.x -= 500.0 * delta;\n                }\n                if (keyboardControls.moveBackward) {\n                    velocity.z += 500.0 * delta;\n                }\n                if (keyboardControls.moveRight) {\n                    velocity.x += 500.0 * delta;\n                }\n                if (keyboardControls.restart) {\n                    restartGame(); \n                }\n                if (isGrounded){\n                    if (keyboardControls.jump) {\n                        velocity.y += 2000.0 * delta;\n                        if (player.position.y > 10) {\n                            isGrounded = false;\n                        }\n                    }\n                }\n                if (!keyboardControls.jump){\n                    createjs.Sound.stop(\"thrust\");\n                }\n                \n                if (keyboardControls.revert){\n                        scene.remove(player);\n                        player.position.set(2, 1, 0);\n                        player.rotation.set(0, 0, 0);\n                        scene.add(player);\n                        player.setAngularVelocity(new Vector3(0, 0 , 0));\n                        oxygenLevels --;\n                }\n\n                \n            player.setDamping(0.7, 0.1);\n                // Changing player's rotation\n                player.setAngularVelocity(new Vector3(0, -mouseControls.yaw, 0));\n                direction.addVectors(direction, velocity);\n                direction.applyQuaternion(player.quaternion);\n                if (Math.abs(player.getLinearVelocity().x) < 20 && Math.abs(player.getLinearVelocity().y) < 10) {\n                    player.applyCentralForce(direction);\n                }\n                \n                cameraLook();\n                \n                prevTime = time;\n\n        } // Controls Enabled ends\n        else {\n            player.setAngularVelocity(new Vector3(0, 0 , 0));   \n        }\n    }\n    \n    //Disable player movement only\n    function enableMoveControls(disabled: boolean): void{\n        keyboardControls.moveForward = disabled;\n        keyboardControls.moveLeft = disabled;\n        keyboardControls.moveRight = disabled;\n        keyboardControls.moveBackward = disabled;\n        keyboardControls.jump = disabled;\n        mouseControls.enabled = disabled;\n    }\n    \n    function cameraLook(): void {\n        var zenith: number = THREE.Math.degToRad(90);\n        var nadir: number = THREE.Math.degToRad(-90);\n        \n        var cameraPitch: number = camera.rotation.x + mouseControls.pitch;\n        \n        \n        //Constrain the Camera Pitch\n        camera.rotation.x = THREE.Math.clamp(cameraPitch, nadir, zenith);\n        \n    }\n    \n    //restarting the game\n    function restartGame(): void{\n        score = 0;\n        oxygenLevels = 61;\n        scene.remove(player);\n        player.position.set(2, 1, 0);\n        player.rotation.set(0, 0, 0);\n        scene.add(player);\n        player.setAngularVelocity(new Vector3(0, 0 , 0));\n        gameOver.style.display = 'none';\n        blocker.style.display = 'none';\n    }\n    \n    //Spawn Collectables\n    function spawnStarDust(): void{\n        starDust = new Physijs.SphereMesh(starDustGeometry, starDustMaterial, 0);\n        starDust.addEventListener('collision', function(){\n            scene.remove(this);\n        });\n        starDust.position.set((Math.random()*50)-30, (Math.random()*15)-5, (Math.random()*-30)-5);\n        starDust.receiveShadow = true;\n        starDust.rotation.set((Math.random()*50)-30, (Math.random()*10)-10, (Math.random()*25)-25);\n        starDust.name = \"StarDust\";\n        scene.add(starDust);\n        console.log(\"added stardust\");\n    }\n    \n    //Remove Collectable if it there is too much on screen\n    function starDustTimeout(): void {\n        var starDustArray: THREE.Object3D[] = scene.children;\n        var starDustAmt: number = 0;\n        var lastObject = starDustArray[starDustArray.length - 1];\n        \n        for (var i in starDustArray) {\n            if (scene.children[i].name === \"StarDust\") {\n                starDustAmt++;\n            }\n            \n            if (starDustAmt > maxStarDust) {\n                scene.remove(lastObject);\n                starDustAmt = 0;\n            }\n        }\n    }\n    \n\n    // Setup default renderer\n    function setupRenderer(): void {\n        renderer = new Renderer({ antialias: true });\n        renderer.setClearColor(0x404040, 1.0);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(CScreen.WIDTH, CScreen.HEIGHT);\n        renderer.shadowMap.enabled = true;\n        console.log(\"Finished setting up Renderer...\");\n    }\n\n    // Setup main camera for the scene\n    function setupCamera(): void {\n        camera = new PerspectiveCamera(35, config.Screen.RATIO, 0.1, 100000);\n        camera.position.set(0, 10, 30);\n        camera.lookAt(new Vector3(0, 0, 0));\n        console.log(\"Finished setting up Camera...\");\n    }\n\n    window.onload = preload;\n\n    return {\n        scene: scene\n    }\n\n})();"],"sourceRoot":"/source/"}